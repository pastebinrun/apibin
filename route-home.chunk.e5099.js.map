{"file":"route-home.chunk.e5099.js","version":3,"names":["self","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","Z","__WEBPACK_DEFAULT_EXPORT__","r","default","home","preact_module","preact_router","style_module","base_url","jsxRuntime_module","Home","Component","constructor","args","_this","super","this","state","code","expiration","languages","language","onLanguageChange","e","setState","target","value","onExpirationChange","onTextareaChange","onSubmit","async","preventDefault","request","fetch","body","URLSearchParams","method","headers","BC","text","json","render","_","BX","children","tZ","onInput","map","identifier","name","class","type","required"],"sources":["webpack:///route-home.chunk.e5099.js"],"sourcesContent":["\"use strict\";\n(self[\"webpackChunk\"] = self[\"webpackChunk\"] || []).push([[311],{\n\n/***/ 209:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// SPDX-FileCopyrightText: 2023 Konrad Borowski <konrad@borowski.pw>\n//\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('https://pastebin.run/');\n\n/***/ }),\n\n/***/ 899:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ home)\n});\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.module.js\nvar preact_module = __webpack_require__(998);\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.mjs + 1 modules\nvar preact_router = __webpack_require__(74);\n;// CONCATENATED MODULE: ./routes/home/style.module.css\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const style_module = ({\"submit\":\"submit__Qtnvd\",\"full\":\"full__SGYzF\"});\n// EXTERNAL MODULE: ./base-url.js\nvar base_url = __webpack_require__(209);\n// EXTERNAL MODULE: ../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\nvar jsxRuntime_module = __webpack_require__(797);\n;// CONCATENATED MODULE: ../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[0]!../node_modules/source-map-loader/dist/cjs.js!./routes/home/index.js\n// SPDX-FileCopyrightText: 2023 Konrad Borowski <konrad@borowski.pw>\n//\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\n\n\n\n\n\n\nclass Home extends preact_module.Component {\n  state = {\n    code: '',\n    expiration: 'PT1H',\n    languages: [],\n    language: 'plaintext'\n  };\n  onLanguageChange = e => this.setState({\n    language: e.target.value\n  });\n  onExpirationChange = e => this.setState({\n    expiration: e.target.value\n  });\n  onTextareaChange = e => this.setState({\n    code: e.target.value\n  });\n  onSubmit = async e => {\n    e.preventDefault();\n    const {\n      code,\n      expiration,\n      language\n    } = this.state;\n    const request = await fetch(`${base_url/* default */.Z}api/v1/pastes`, {\n      body: new URLSearchParams({\n        code,\n        expiration,\n        language\n      }),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    (0,preact_router/* route */.BC)(`/${await request.text()}`);\n  };\n  async componentWillMount() {\n    this.setState({\n      languages: await (await fetch(`${base_url/* default */.Z}api/v1/languages`)).json()\n    });\n  }\n  render(_, {\n    expiration,\n    code,\n    languages,\n    language\n  }) {\n    return (0,jsxRuntime_module/* jsxs */.BX)(\"form\", {\n      onSubmit: this.onSubmit,\n      children: [(0,jsxRuntime_module/* jsxs */.BX)(\"label\", {\n        children: [\"Language: \", (0,jsxRuntime_module/* jsx */.tZ)(\"select\", {\n          value: language,\n          onInput: this.onLanguageChange,\n          children: languages.map(({\n            identifier,\n            name\n          }) => (0,jsxRuntime_module/* jsx */.tZ)(\"option\", {\n            value: identifier,\n            children: name\n          }))\n        })]\n      }), \" \", (0,jsxRuntime_module/* jsxs */.BX)(\"label\", {\n        children: [\"Expires: \", (0,jsxRuntime_module/* jsxs */.BX)(\"select\", {\n          value: expiration,\n          onInput: this.onExpirationChange,\n          children: [(0,jsxRuntime_module/* jsx */.tZ)(\"option\", {\n            value: \"PT1H\",\n            children: \"1 hour\"\n          }), (0,jsxRuntime_module/* jsx */.tZ)(\"option\", {\n            value: \"P1D\",\n            children: \"1 day\"\n          }), (0,jsxRuntime_module/* jsx */.tZ)(\"option\", {\n            value: \"P7D\",\n            children: \"1 week\"\n          }), (0,jsxRuntime_module/* jsx */.tZ)(\"option\", {\n            children: \"Never\"\n          })]\n        })]\n      }), (0,jsxRuntime_module/* jsx */.tZ)(\"button\", {\n        class: style_module.submit,\n        type: \"submit\",\n        children: \"Share\"\n      }), (0,jsxRuntime_module/* jsx */.tZ)(\"textarea\", {\n        class: style_module.full,\n        required: true,\n        onInput: this.onTextareaChange,\n        children: code\n      })]\n    });\n  }\n}\n/* harmony default export */ const home = (Home);\n\n/***/ })\n\n}]);"],"mappings":"AAAA,cACCA,KAAmB,aAAIA,KAAmB,cAAK,IAAIC,KAAK,CAAC,CAAC,KAAK,CAE1D,IACC,CAACC,EAAyBC,EAAqBC,KAEjCA,EAAoBC,EAAEF,EAAqB,CACzCG,EAAKA,IAAOC,IAMN,MAAMA,EAA8B,yBAI3D,IACC,CAACL,EAAyBC,EAAqBC,KAGtDA,EAAoBI,EAAEL,GAGtBC,EAAoBC,EAAEF,EAAqB,CACzCM,QAAWA,IAAqBC,IAIlC,IAAIC,EAAgBP,EAAoB,KAEpCQ,EAAgBR,EAAoB,IAGX,MAAMS,EAA0B,gBAA1BA,EAAiD,cAEpF,IAAIC,EAAWV,EAAoB,KAE/BW,EAAoBX,EAAoB,KAY5C,MAAMY,UAAaL,EAAcM,UAAUC,eAAAC,GAAA,IAAAC,EAAAC,SAAAF,GAAAC,EAAAE,UACzCC,MAAQ,CACNC,KAAM,GACNC,WAAY,OACZC,UAAW,GACXC,SAAU,aACXL,KACDM,iBAAmBC,GAAKP,KAAKQ,SAAS,CACpCH,SAAUE,EAAEE,OAAOC,QACnBV,KACFW,mBAAqBJ,GAAKP,KAAKQ,SAAS,CACtCL,WAAYI,EAAEE,OAAOC,QACrBV,KACFY,iBAAmBL,GAAKP,KAAKQ,SAAS,CACpCN,KAAMK,EAAEE,OAAOC,QACfV,KACFa,SAAWC,eAAMP,GACfA,EAAEQ,iBACF,MAAMb,KACJA,EAAIC,WACJA,EAAUE,SACVA,GACEP,EAAKG,MACHe,QAAgBC,MAAO,GAAEzB,EAAsBR,iBAAkB,CACrEkC,KAAM,IAAIC,gBAAgB,CACxBjB,OACAC,aACAE,aAEFe,OAAQ,OACRC,QAAS,CACP,eAAgB,wCAGpB,EAAG/B,EAAyBgC,IAAK,UAASN,EAAQO,SACpD,CAAC,CACDT,2BACEd,KAAKQ,SAAS,CACZJ,sBAAwBa,MAAO,GAAEzB,EAAsBR,sBAAsBwC,QAEjF,CACAC,OAAOC,GAAGvB,WACRA,EAAUD,KACVA,EAAIE,UACJA,EAASC,SACTA,IAEA,OAAO,EAAGZ,EAA4BkC,IAAI,OAAQ,CAChDd,SAAUb,KAAKa,SACfe,SAAU,EAAC,EAAGnC,EAA4BkC,IAAI,QAAS,CACrDC,SAAU,CAAC,cAAc,EAAGnC,EAA2BoC,IAAI,SAAU,CACnEnB,MAAOL,EACPyB,QAAS9B,KAAKM,iBACdsB,SAAUxB,EAAU2B,KAAI,EACtBC,aACAC,WACI,EAAGxC,EAA2BoC,IAAI,SAAU,CAChDnB,MAAOsB,EACPJ,SAAUK,WAGZ,KAAK,EAAGxC,EAA4BkC,IAAI,QAAS,CACnDC,SAAU,CAAC,aAAa,EAAGnC,EAA4BkC,IAAI,SAAU,CACnEjB,MAAOP,EACP2B,QAAS9B,KAAKW,mBACdiB,SAAU,EAAC,EAAGnC,EAA2BoC,IAAI,SAAU,CACrDnB,MAAO,OACPkB,SAAU,YACR,EAAGnC,EAA2BoC,IAAI,SAAU,CAC9CnB,MAAO,MACPkB,SAAU,WACR,EAAGnC,EAA2BoC,IAAI,SAAU,CAC9CnB,MAAO,MACPkB,SAAU,YACR,EAAGnC,EAA2BoC,IAAI,SAAU,CAC9CD,SAAU,iBAGZ,EAAGnC,EAA2BoC,IAAI,SAAU,CAC9CK,MAAO3C,EACP4C,KAAM,SACNP,SAAU,WACR,EAAGnC,EAA2BoC,IAAI,WAAY,CAChDK,MAAO3C,EACP6C,UAAU,EACVN,QAAS9B,KAAKY,iBACdgB,SAAU1B,MAGhB,EAE2B,MAAMd,EAAQM","sourceRoot":""}