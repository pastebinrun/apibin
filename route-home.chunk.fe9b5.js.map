{"version":3,"sources":["webpack:///./routes/home/style.css","webpack:///./routes/home/index.js","webpack:///./base-url.js"],"names":["Home","code","expiration","languages","language","e","setState","target","value","preventDefault","state","request","fetch","baseUrl","body","URLSearchParams","method","headers","route","text","this","json","_","onSubmit","onInput","onLanguageChange","map","identifier","name","onExpirationChange","class","style","type","required","onTextareaChange","Component"],"mappings":"q5DACe,EAAU,gBAAV,EAAiC,c,YCI1CA,E,0JACG,CACPC,KAAM,GACNC,WAAY,OACZC,UAAW,GACXC,SAAU,c,2BAGQ,SAAAC,GAAC,OAAI,EAAKC,SAAS,CAAEF,SAAUC,EAAEE,OAAOC,W,6BACtC,SAAAH,GAAC,OAAI,EAAKC,SAAS,CAAEJ,WAAYG,EAAEE,OAAOC,W,2BAC5C,SAAAH,GAAC,OAAI,EAAKC,SAAS,CAAEL,KAAMI,EAAEE,OAAOC,W,sCAE5C,UAAMH,GAChBA,EAAEI,iBACF,MAAuC,EAAKC,MAApCT,EAAR,EAAQA,KAAMC,EAAd,EAAcA,WAAYE,EAA1B,EAA0BA,SACpBO,QAAgBC,MAAM,GAAD,OAAIC,IAAJ,iBAA4B,CACtDC,KAAM,IAAIC,gBAAgB,CAAEd,OAAMC,aAAYE,aAC9CY,OAAQ,OACRC,QAAS,CACR,eAAgB,uCAGlBC,gBAAM,IAAD,aAAWP,EAAQQ,Y,4ZAGzB,YACCC,KAAKd,SAAS,CAAEH,sBAAwBS,MAAM,GAAD,OAAIC,IAAJ,sBAAgCQ,Y,iEAG9E,SAAOC,EAAP,GAAqD,IAAzCpB,EAAyC,EAAzCA,WAAYD,EAA6B,EAA7BA,KAAME,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,SACxC,OAAQ,oBAAMmB,SAAUH,KAAKG,UAC5B,sCACW,sBAAQf,MAAOJ,EAAUoB,QAASJ,KAAKK,kBAC/CtB,EAAUuB,KAAI,gBAAGC,EAAH,EAAGA,WAAYC,EAAf,EAAeA,KAAf,OAA0B,sBAAQpB,MAAOmB,GAAaC,QAHhE,IAKE,qCACC,sBAAQpB,MAAON,EAAYsB,QAASJ,KAAKS,oBACjD,sBAAQrB,MAAM,QAAd,UACA,sBAAQA,MAAM,OAAd,SACA,sBAAQA,MAAM,OAAd,UACA,qCAGF,sBAAQsB,MAAOC,EAAcC,KAAK,UAAlC,SACA,wBAAUF,MAAOC,EAAYE,UAAQ,EAACT,QAASJ,KAAKc,kBAAmBjC,O,oFA5CvDkC,aAiDJnC,a,kCCtDA","file":"route-home.chunk.fe9b5.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"submit\":\"submit__vnIeA\",\"full\":\"full__MJ9ac\"};","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\nimport style from './style';\nimport baseUrl from '../../base-url';\n\nclass Home extends Component {\n\tstate = {\n\t\tcode: '',\n\t\texpiration: 'PT1H',\n\t\tlanguages: [],\n\t\tlanguage: 'plaintext'\n\t}\n\n\tonLanguageChange = e => this.setState({ language: e.target.value })\n\tonExpirationChange = e => this.setState({ expiration: e.target.value })\n\tonTextareaChange = e => this.setState({ code: e.target.value })\n\n\tonSubmit = async e => {\n\t\te.preventDefault();\n\t\tconst { code, expiration, language } = this.state;\n\t\tconst request = await fetch(`${baseUrl}api/v1/pastes`, {\n\t\t\tbody: new URLSearchParams({ code, expiration, language }),\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t}\n\t\t});\n\t\troute(`/${await request.text()}`);\n\t}\n\n\tasync componentWillMount() {\n\t\tthis.setState({ languages: await (await fetch(`${baseUrl}api/v1/languages`)).json() });\n\t}\n\n\trender(_, { expiration, code, languages, language }) {\n\t\treturn (<form onSubmit={this.onSubmit}>\n\t\t\t<label>\n\t\t\t\tLanguage: <select value={language} onInput={this.onLanguageChange}>\n\t\t\t\t\t{languages.map(({ identifier, name }) => <option value={identifier}>{name}</option>)}\n\t\t\t\t</select>\n\t\t\t</label> <label>\n\t\t\t\tExpires: <select value={expiration} onInput={this.onExpirationChange}>\n\t\t\t\t\t<option value=\"PT1H\">1 hour</option>\n\t\t\t\t\t<option value=\"P1D\">1 day</option>\n\t\t\t\t\t<option value=\"P7D\">1 week</option>\n\t\t\t\t\t<option>Never</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t\t<button class={style.submit} type=\"submit\">Share</button>\n\t\t\t<textarea class={style.full} required onInput={this.onTextareaChange}>{code}</textarea>\n\t\t</form>);\n\t}\n}\n\nexport default Home;\n","export default 'https://pastebin.run/';\n"],"sourceRoot":""}