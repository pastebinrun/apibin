{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///./routes/home/style.css","webpack:///./base-url.js"],"names":["Home","Component","state","code","expiration","languages","language","onLanguageChange","e","this","setState","target","value","onExpirationChange","onTextareaChange","onSubmit","async","preventDefault","request","fetch","baseUrl","body","URLSearchParams","method","headers","route","text","json","render","_","onInput","map","identifier","name","class","style","submit","type","full","required","module","exports"],"mappings":"6FAAA,oEAsDeA,UAjDf,cAAmBC,YAAU,uCAC5BC,MAAQ,CACPC,KAAM,GACNC,WAAY,OACZC,UAAW,GACXC,SAAU,aALiB,KAQ5BC,iBAAmBC,GAAKC,KAAKC,SAAS,CAAEJ,SAAUE,EAAEG,OAAOC,QAR/B,KAS5BC,mBAAqBL,GAAKC,KAAKC,SAAS,CAAEN,WAAYI,EAAEG,OAAOC,QATnC,KAU5BE,iBAAmBN,GAAKC,KAAKC,SAAS,CAAEP,KAAMK,EAAEG,OAAOC,QAV3B,KAY5BG,SAAWC,UACVR,EAAES,iBACF,IAAM,KAAEd,EAAF,WAAQC,EAAR,SAAoBE,GAAaG,KAAKP,MACtCgB,QAAgBC,MAASC,IAAJ,gBAA4B,CACtDC,KAAM,IAAIC,gBAAgB,CAAEnB,OAAMC,aAAYE,aAC9CiB,OAAQ,OACRC,QAAS,CACR,eAAgB,uCAGlBC,gBAAM,UAAUP,EAAQQ,SAGD,2BACvBjB,KAAKC,SAAS,CAAEL,sBAAwBc,MAASC,IAAJ,qBAAgCO,SAG9EC,OAAOC,EAAD,GAA+C,IAA3C,WAAEzB,EAAF,KAAcD,EAAd,UAAoBE,EAApB,SAA+BC,GAAY,EACpD,OAAQ,oBAAMS,SAAUN,KAAKM,UAC5B,sCACW,sBAAQH,MAAON,EAAUwB,QAASrB,KAAKF,kBAC/CF,EAAU0B,IAAI,QAAC,WAAEC,EAAF,KAAcC,GAAf,SAA0B,sBAAQrB,MAAOoB,GAAaC,OAHhE,IAKE,qCACC,sBAAQrB,MAAOR,EAAY0B,QAASrB,KAAKI,oBACjD,sBAAQD,MAAM,QAAd,UACA,sBAAQA,MAAM,OAAd,SACA,sBAAQA,MAAM,OAAd,UACA,qCAGF,sBAAQsB,MAAOC,IAAMC,OAAQC,KAAK,UAAlC,SACA,wBAAUH,MAAOC,IAAMG,KAAMC,UAAQ,EAACT,QAASrB,KAAKK,kBAAmBX,O,iBChD1EqC,EAAOC,QAAU,CAAC,OAAS,gBAAgB,KAAO,gB,kCCDnC","file":"route-home.chunk.f51c3.esm.js","sourcesContent":["import { h, Component } from 'preact';\nimport { route } from 'preact-router';\nimport style from './style';\nimport baseUrl from '../../base-url';\n\nclass Home extends Component {\n\tstate = {\n\t\tcode: '',\n\t\texpiration: 'PT1H',\n\t\tlanguages: [],\n\t\tlanguage: 'plaintext'\n\t}\n\n\tonLanguageChange = e => this.setState({ language: e.target.value })\n\tonExpirationChange = e => this.setState({ expiration: e.target.value })\n\tonTextareaChange = e => this.setState({ code: e.target.value })\n\n\tonSubmit = async e => {\n\t\te.preventDefault();\n\t\tconst { code, expiration, language } = this.state;\n\t\tconst request = await fetch(`${baseUrl}api/v1/pastes`, {\n\t\t\tbody: new URLSearchParams({ code, expiration, language }),\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t}\n\t\t});\n\t\troute(`/${await request.text()}`);\n\t}\n\n\tasync componentWillMount() {\n\t\tthis.setState({ languages: await (await fetch(`${baseUrl}api/v1/languages`)).json() });\n\t}\n\n\trender(_, { expiration, code, languages, language }) {\n\t\treturn (<form onSubmit={this.onSubmit}>\n\t\t\t<label>\n\t\t\t\tLanguage: <select value={language} onInput={this.onLanguageChange}>\n\t\t\t\t\t{languages.map(({ identifier, name }) => <option value={identifier}>{name}</option>)}\n\t\t\t\t</select>\n\t\t\t</label> <label>\n\t\t\t\tExpires: <select value={expiration} onInput={this.onExpirationChange}>\n\t\t\t\t\t<option value=\"PT1H\">1 hour</option>\n\t\t\t\t\t<option value=\"P1D\">1 day</option>\n\t\t\t\t\t<option value=\"P7D\">1 week</option>\n\t\t\t\t\t<option>Never</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t\t<button class={style.submit} type=\"submit\">Share</button>\n\t\t\t<textarea class={style.full} required onInput={this.onTextareaChange}>{code}</textarea>\n\t\t</form>);\n\t}\n}\n\nexport default Home;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit\":\"submit__1bmCe\",\"full\":\"full__2Id8B\"};","export default 'https://pastebin.run/';\n"],"sourceRoot":""}