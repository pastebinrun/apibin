{"version":3,"sources":["webpack:///./routes/home/style.css","webpack:///./routes/home/index.js","webpack:///./base-url.js"],"names":["Home","Component","code","expiration","languages","language","e","this","setState","target","value","async","preventDefault","state","request","fetch","baseUrl","body","URLSearchParams","method","headers","route","text","json","render","_","onSubmit","onInput","onLanguageChange","map","identifier","name","onExpirationChange","class","style","type","required","onTextareaChange"],"mappings":"skBACe,EAAU,gBAAV,EAAiC,c,YCqDjCA,UAjDf,cAAmBC,YAAU,0DACpB,CACPC,KAAM,GACNC,WAAY,OACZC,UAAW,GACXC,SAAU,cACV,2BAEkBC,GAAKC,KAAKC,SAAS,CAAEH,SAAUC,EAAEG,OAAOC,UAAQ,6BAC9CJ,GAAKC,KAAKC,SAAS,CAAEL,WAAYG,EAAEG,OAAOC,UAAQ,2BACpDJ,GAAKC,KAAKC,SAAS,CAAEN,KAAMI,EAAEG,OAAOC,UAAQ,mBAEpDC,eAAML,GAChBA,EAAEM,iBACF,MAAM,KAAEV,EAAI,WAAEC,EAAU,SAAEE,GAAa,EAAKQ,MACtCC,QAAgBC,MAAO,GAAEC,mBAAwB,CACtDC,KAAM,IAAIC,gBAAgB,CAAEhB,OAAMC,aAAYE,aAC9Cc,OAAQ,OACRC,QAAS,CACR,eAAgB,uCAGlBC,YAAO,UAASP,EAAQQ,SACzB,GAAC,CAEDX,2BACCJ,KAAKC,SAAS,CAAEJ,sBAAwBW,MAAO,GAAEC,wBAA4BO,QAC9E,CAEAC,OAAOC,GAAG,WAAEtB,EAAU,KAAED,EAAI,UAAEE,EAAS,SAAEC,IACxC,OAAQ,oBAAMqB,SAAUnB,KAAKmB,UAC5B,yBAAO,aACI,sBAAQhB,MAAOL,EAAUsB,QAASpB,KAAKqB,kBAC/CxB,EAAUyB,KAAI,EAAGC,aAAYC,UAAW,sBAAQrB,MAAOoB,GAAaC,OAE/D,IAAC,yBAAO,YACN,sBAAQrB,MAAOP,EAAYwB,QAASpB,KAAKyB,oBACjD,sBAAQtB,MAAM,QAAO,UACrB,sBAAQA,MAAM,OAAM,SACpB,sBAAQA,MAAM,OAAM,UACpB,0BAAQ,WAGV,sBAAQuB,MAAOC,EAAcC,KAAK,UAAS,SAC3C,wBAAUF,MAAOC,EAAYE,UAAQ,EAACT,QAASpB,KAAK8B,kBAAmBnC,GAEzE,E,oCCnDc,2B","file":"route-home.chunk.3f34d.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"submit\":\"submit__vnIeA\",\"full\":\"full__MJ9ac\"};","import { h, Component } from 'preact';\nimport { route } from 'preact-router';\nimport style from './style';\nimport baseUrl from '../../base-url';\n\nclass Home extends Component {\n\tstate = {\n\t\tcode: '',\n\t\texpiration: 'PT1H',\n\t\tlanguages: [],\n\t\tlanguage: 'plaintext'\n\t}\n\n\tonLanguageChange = e => this.setState({ language: e.target.value })\n\tonExpirationChange = e => this.setState({ expiration: e.target.value })\n\tonTextareaChange = e => this.setState({ code: e.target.value })\n\n\tonSubmit = async e => {\n\t\te.preventDefault();\n\t\tconst { code, expiration, language } = this.state;\n\t\tconst request = await fetch(`${baseUrl}api/v1/pastes`, {\n\t\t\tbody: new URLSearchParams({ code, expiration, language }),\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t}\n\t\t});\n\t\troute(`/${await request.text()}`);\n\t}\n\n\tasync componentWillMount() {\n\t\tthis.setState({ languages: await (await fetch(`${baseUrl}api/v1/languages`)).json() });\n\t}\n\n\trender(_, { expiration, code, languages, language }) {\n\t\treturn (<form onSubmit={this.onSubmit}>\n\t\t\t<label>\n\t\t\t\tLanguage: <select value={language} onInput={this.onLanguageChange}>\n\t\t\t\t\t{languages.map(({ identifier, name }) => <option value={identifier}>{name}</option>)}\n\t\t\t\t</select>\n\t\t\t</label> <label>\n\t\t\t\tExpires: <select value={expiration} onInput={this.onExpirationChange}>\n\t\t\t\t\t<option value=\"PT1H\">1 hour</option>\n\t\t\t\t\t<option value=\"P1D\">1 day</option>\n\t\t\t\t\t<option value=\"P7D\">1 week</option>\n\t\t\t\t\t<option>Never</option>\n\t\t\t\t</select>\n\t\t\t</label>\n\t\t\t<button class={style.submit} type=\"submit\">Share</button>\n\t\t\t<textarea class={style.full} required onInput={this.onTextareaChange}>{code}</textarea>\n\t\t</form>);\n\t}\n}\n\nexport default Home;\n","export default 'https://pastebin.run/';\n"],"sourceRoot":""}