{"version":3,"sources":["webpack:///./routes/paste/style.css","webpack:///./routes/paste/index.js","webpack:///./base-url.js"],"names":["Paste","AbortController","code","e","preventDefault","navigator","clipboard","writeText","getLink","this","props","id","signal","controller","setState","fetch","baseUrl","text","abort","_","readonly","value","onClick","copyLink","class","style","Component"],"mappings":"2jEACe,EAAO,a,YCGDA,EAAK,mGASxB,OATwB,qDACZ,IAAIC,iBAAiB,eAC1B,CACPC,KAAM,OACN,mBAEU,SAAAC,GACVA,EAAEC,iBACFC,UAAUC,UAAUC,UAAU,EAAKC,UACpC,IAAC,G,qRATwB,U,QAcxB,EAdwB,OAiCxB,O,EAxBA,E,EAAA,sBAED,WAEC,MAAO,wBAAP,OADeC,KAAKC,MAAZC,GAET,GAAC,iC,EAED,YACC,IAAQA,EAAOF,KAAKC,MAAZC,GACAC,EAAWH,KAAKI,WAAhBD,OACRH,KAAKK,SAAS,CACbZ,iBAAmBa,MAAM,GAAD,OAAIC,KAAO,OAAGL,EAAE,QAAQ,CAAEC,YAAWK,QAE/D,EARC,E,8KAQA,+EAED,WACCR,KAAKI,WAAWK,OACjB,GAAC,oBAED,SAAOC,EAAG,GAAU,IAARjB,EAAI,EAAJA,KACX,OAAQ,uBACP,uBAAK,eAAY,qBAAOkB,UAAQ,EAACC,MAAOZ,KAAKD,YAAa,IAAC,sBAAQc,QAASb,KAAKc,UAAU,cACjF,OAATrB,EAAgB,WAAa,mBAAKsB,MAAOC,GAAW,wBAAOvB,IAE9D,I,iFAAC,EAjCwB,CAASwB,I,oCCJpB,2B","file":"route-paste.chunk.10a7f.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pre\":\"pre__5yGRS\"};","import { h, Component } from 'preact';\nimport style from './style';\nimport baseUrl from '../../base-url';\n\nexport default class Paste extends Component {\n\tcontroller = new AbortController()\n\tstate = {\n\t\tcode: null\n\t}\n\n\tcopyLink = e => {\n\t\te.preventDefault();\n\t\tnavigator.clipboard.writeText(this.getLink());\n\t}\n\n\tgetLink() {\n\t\tconst { id } = this.props;\n\t\treturn `https://pastebin.run/${id}`;\n\t}\n\n\tasync componentWillMount() {\n\t\tconst { id } = this.props;\n\t\tconst { signal } = this.controller;\n\t\tthis.setState({\n\t\t\tcode: await (await fetch(`${baseUrl}${id}.txt`, { signal })).text()\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.controller.abort();\n\t}\n\n\trender(_, { code }) {\n\t\treturn (<div>\n\t\t\t<div>Share link: <input readonly value={this.getLink()} /> <button onClick={this.copyLink}>Copy link</button></div>\n\t\t\t{code === null ? 'Loadingâ€¦' : <pre class={style.pre}><code>{code}</code></pre>}\n\t\t</div>);\n\t}\n}\n","export default 'https://pastebin.run/';\n"],"sourceRoot":""}