{"version":3,"sources":["webpack:///./routes/paste/style.css","webpack:///./routes/paste/index.js","webpack:///./base-url.js"],"names":["module","exports","Paste","Component","controller","AbortController","state","code","copyLink","e","preventDefault","navigator","clipboard","writeText","this","getLink","id","props","signal","setState","fetch","baseUrl","text","componentWillUnmount","abort","render","_","readonly","value","onClick","class","style","pre"],"mappings":"0EACAA,EAAOC,QAAU,CAAC,IAAM,e,kCCDxB,gGAIe,MAAMC,UAAcC,YAAU,uCAC5CC,WAAa,IAAIC,gBAD2B,KAE5CC,MAAQ,CACPC,KAAM,MAHqC,KAM5CC,SAAWC,IACVA,EAAEC,iBACFC,UAAUC,UAAUC,UAAUC,KAAKC,YAGpCA,UACC,IAAM,GAAEC,GAAOF,KAAKG,MACpB,MAAO,wBAAwBD,EAGR,2BACvB,IAAM,GAAEA,GAAOF,KAAKG,OACd,OAAEC,GAAWJ,KAAKV,WACxBU,KAAKK,SAAS,CACbZ,iBAAmBa,MAAM,GAAGC,IAAUL,EAAd,OAAwB,CAAEE,YAAWI,SAI/DC,uBACCT,KAAKV,WAAWoB,QAGjBC,OAAOC,EAAD,GAAc,IAAV,KAAEnB,GAAQ,EACnB,OAAQ,uBACP,sCAAiB,qBAAOoB,UAAQ,EAACC,MAAOd,KAAKC,YAA7C,IAA2D,sBAAQc,QAASf,KAAKN,UAAtB,cACjD,OAATD,EAAgB,WAAa,mBAAKuB,MAAOC,IAAMC,KAAK,wBAAOzB,Q,kCCnChD","file":"route-paste.chunk.1a91c.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pre\":\"pre__Jr3XJ\"};","import { h, Component } from 'preact';\nimport style from './style';\nimport baseUrl from '../../base-url';\n\nexport default class Paste extends Component {\n\tcontroller = new AbortController()\n\tstate = {\n\t\tcode: null\n\t}\n\n\tcopyLink = e => {\n\t\te.preventDefault();\n\t\tnavigator.clipboard.writeText(this.getLink());\n\t}\n\n\tgetLink() {\n\t\tconst { id } = this.props;\n\t\treturn `https://pastebin.run/${id}`;\n\t}\n\n\tasync componentWillMount() {\n\t\tconst { id } = this.props;\n\t\tconst { signal } = this.controller;\n\t\tthis.setState({\n\t\t\tcode: await (await fetch(`${baseUrl}${id}.txt`, { signal })).text()\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.controller.abort();\n\t}\n\n\trender(_, { code }) {\n\t\treturn (<div>\n\t\t\t<div>Share link: <input readonly value={this.getLink()} /> <button onClick={this.copyLink}>Copy link</button></div>\n\t\t\t{code === null ? 'Loadingâ€¦' : <pre class={style.pre}><code>{code}</code></pre>}\n\t\t</div>);\n\t}\n}\n","export default 'https://pastebin.run/';\n"],"sourceRoot":""}