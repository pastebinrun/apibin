{"file":"route-paste.chunk.09bae.js","version":3,"names":["self","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","Z","__WEBPACK_DEFAULT_EXPORT__","r","default","Paste","preact_module","style_module","base_url","jsxRuntime_module","Component","constructor","args","super","this","controller","AbortController","state","code","copyLink","e","preventDefault","navigator","clipboard","writeText","getLink","id","props","async","signal","setState","fetch","text","componentWillUnmount","abort","render","_","BX","children","tZ","readonly","value","onClick","class"],"sources":["webpack:///route-paste.chunk.09bae.js"],"sourcesContent":["\"use strict\";\n(self[\"webpackChunk\"] = self[\"webpackChunk\"] || []).push([[39],{\n\n/***/ 209:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// SPDX-FileCopyrightText: 2023 Konrad Borowski <konrad@borowski.pw>\n//\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('https://pastebin.run/');\n\n/***/ }),\n\n/***/ 978:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ Paste)\n});\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.module.js\nvar preact_module = __webpack_require__(998);\n;// CONCATENATED MODULE: ./routes/paste/style.module.css\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const style_module = ({\"pre\":\"pre__vhzJX\"});\n// EXTERNAL MODULE: ./base-url.js\nvar base_url = __webpack_require__(209);\n// EXTERNAL MODULE: ../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js\nvar jsxRuntime_module = __webpack_require__(797);\n;// CONCATENATED MODULE: ../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[0].use[0]!../node_modules/source-map-loader/dist/cjs.js!./routes/paste/index.js\n// SPDX-FileCopyrightText: 2023 Konrad Borowski <konrad@borowski.pw>\n//\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\n\n\n\n\n\nclass Paste extends preact_module.Component {\n  controller = new AbortController();\n  state = {\n    code: null\n  };\n  copyLink = e => {\n    e.preventDefault();\n    navigator.clipboard.writeText(this.getLink());\n  };\n  getLink() {\n    const {\n      id\n    } = this.props;\n    return `https://pastebin.run/${id}`;\n  }\n  async componentWillMount() {\n    const {\n      id\n    } = this.props;\n    const {\n      signal\n    } = this.controller;\n    this.setState({\n      code: await (await fetch(`${base_url/* default */.Z}${id}.txt`, {\n        signal\n      })).text()\n    });\n  }\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n  render(_, {\n    code\n  }) {\n    return (0,jsxRuntime_module/* jsxs */.BX)(\"div\", {\n      children: [(0,jsxRuntime_module/* jsxs */.BX)(\"div\", {\n        children: [\"Share link: \", (0,jsxRuntime_module/* jsx */.tZ)(\"input\", {\n          readonly: true,\n          value: this.getLink()\n        }), \" \", (0,jsxRuntime_module/* jsx */.tZ)(\"button\", {\n          onClick: this.copyLink,\n          children: \"Copy link\"\n        })]\n      }), code === null ? 'Loadingâ€¦' : (0,jsxRuntime_module/* jsx */.tZ)(\"pre\", {\n        class: style_module.pre,\n        children: (0,jsxRuntime_module/* jsx */.tZ)(\"code\", {\n          children: code\n        })\n      })]\n    });\n  }\n}\n\n/***/ })\n\n}]);"],"mappings":"AAAA,cACCA,KAAmB,aAAIA,KAAmB,cAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAEzD,IACC,CAACC,EAAyBC,EAAqBC,KAEjCA,EAAoBC,EAAEF,EAAqB,CACzCG,EAAKA,IAAOC,IAMN,MAAMA,EAA8B,yBAI3D,IACC,CAACL,EAAyBC,EAAqBC,KAGtDA,EAAoBI,EAAEL,GAGtBC,EAAoBC,EAAEF,EAAqB,CACzCM,QAAWA,IAAqBC,IAIlC,IAAIC,EAAgBP,EAAoB,KAGX,MAAMQ,EAAuB,aAE1D,IAAIC,EAAWT,EAAoB,KAE/BU,EAAoBV,EAAoB,KAW5C,MAAMM,UAAcC,EAAcI,UAAUC,eAAAC,GAAAC,SAAAD,GAAAE,KAC1CC,WAAa,IAAIC,gBAAiBF,KAClCG,MAAQ,CACNC,KAAM,MACPJ,KACDK,SAAWC,IACTA,EAAEC,iBACFC,UAAUC,UAAUC,UAAUV,KAAKW,UAAS,CAC7C,CACDA,UACE,MAAMC,GACJA,GACEZ,KAAKa,MACT,MAAQ,wBAAuBD,GACjC,CACAE,2BACE,MAAMF,GACJA,GACEZ,KAAKa,OACHE,OACJA,GACEf,KAAKC,WACTD,KAAKgB,SAAS,CACZZ,iBAAmBa,MAAO,GAAEvB,EAAsBP,IAAIyB,QAAU,CAC9DG,YACEG,QAER,CACAC,uBACEnB,KAAKC,WAAWmB,OAClB,CACAC,OAAOC,GAAGlB,KACRA,IAEA,OAAO,EAAGT,EAA4B4B,IAAI,MAAO,CAC/CC,SAAU,EAAC,EAAG7B,EAA4B4B,IAAI,MAAO,CACnDC,SAAU,CAAC,gBAAgB,EAAG7B,EAA2B8B,IAAI,QAAS,CACpEC,UAAU,EACVC,MAAO3B,KAAKW,YACV,KAAK,EAAGhB,EAA2B8B,IAAI,SAAU,CACnDG,QAAS5B,KAAKK,SACdmB,SAAU,iBAED,OAATpB,EAAgB,YAAa,EAAGT,EAA2B8B,IAAI,MAAO,CACxEI,MAAOpC,EACP+B,UAAU,EAAG7B,EAA2B8B,IAAI,OAAQ,CAClDD,SAAUpB,QAIlB,EACF","sourceRoot":""}